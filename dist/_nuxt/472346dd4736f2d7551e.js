(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{848:function(t,e,o){var content=o(902);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("165927ca",content,!0,{sourceMap:!1})},849:function(t,e,o){var content=o(904);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("24ba8275",content,!0,{sourceMap:!1})},850:function(t,e,o){var content=o(907);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("ecf34396",content,!0,{sourceMap:!1})},851:function(t,e,o){var content=o(909);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("c97f3556",content,!0,{sourceMap:!1})},852:function(t,e,o){var content=o(911);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("5675fc15",content,!0,{sourceMap:!1})},853:function(t,e,o){var content=o(913);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("0c3d9717",content,!0,{sourceMap:!1})},901:function(t,e,o){"use strict";var r=o(848);o.n(r).a},902:function(t,e,o){(t.exports=o(52)(!1)).push([t.i,".header[data-v-15c246be]{padding:2rem 1rem;box-shadow:0 2px 8px 0 rgba(0,0,0,.1),0 6px 24px 0 rgba(0,0,0,.04);margin-bottom:2rem}.header .gpic[data-v-15c246be]{padding:1rem 2rem}.header .gpic figure[data-v-15c246be]{margin:.75rem auto}.header .details .title[data-v-15c246be]{font-size:1.4em;font-weight:400;color:#30343f}.header .details .highlight[data-v-15c246be]{color:#30343f;font-weight:700}.header .details p[data-v-15c246be]{font-size:.9em}.header .details p i[data-v-15c246be]{padding-right:.5rem}.header .details .button[data-v-15c246be]{margin:0 .4rem 0 0;font-size:.9em}.header .details .button i[data-v-15c246be]{padding:0 1rem}",""])},903:function(t,e,o){"use strict";var r=o(849);o.n(r).a},904:function(t,e,o){(t.exports=o(52)(!1)).push([t.i,"@media only screen and (min-width:768px){.sidebar{position:fixed}}.sidebar{background-color:#f3f3f3;height:100vh}.sidebar .head{background-color:#fafaf8;padding:.5rem;box-shadow:0 0 10px -5px rgba(0,0,0,.1),0 6px 24px 0 rgba(0,0,0,.04);border-bottom:1px solid #d5dce0}.sidebar .head .title{font-size:1rem;margin:.5rem 0 0;text-align:center;font-weight:600;opacity:.7;color:#363636}.sidebar .chat{color:#30343f}.sidebar .chat .messages{padding:1rem;overflow-y:scroll;height:72vh;scroll-behavior:smooth;background:rgba(56,174,204,.1)}.sidebar .chat .messages .owner{float:right!important;background:#f7fbfc!important}.sidebar .chat .messages .chat-message{float:left;margin:.5rem 0;padding:.5rem;position:relative;background:#fff;border-radius:.4em;width:80%;font-size:.9em;box-shadow:0 2px 8px 0 rgba(0,0,0,.1),0 6px 24px 0 rgba(0,0,0,.04)}.sidebar .chat .messages .chat-message .sender{color:#38aecc;padding:.5rem}.sidebar .chat .messages .chat-message .body{padding:.5rem}.sidebar .chat .message-input{overflow:hidden;background-color:#fff;border:1px solid #d5dce0}.sidebar .chat .message-input textarea{width:100%;resize:none;height:10vh;background-color:#fff;color:#30343f;font-size:.9em;padding:1rem;border:0}.sidebar .chat .message-input .columns{padding:0 .5rem 0 1rem;font-size:.9em}.sidebar .chat .message-input .columns .char-count{opacity:.4;padding-top:.5rem}.sidebar .chat .message-input .columns .send{cursor:pointer}.sidebar .chat .message-input .columns .send img{fill:#fafaf8;width:16px}",""])},905:function(t,e,o){t.exports=o.p+"img/737d5ca.png"},906:function(t,e,o){"use strict";var r=o(850);o.n(r).a},907:function(t,e,o){(t.exports=o(52)(!1)).push([t.i,".modal .modal-card-head{background-color:#011638;padding:1rem}.modal .modal-card-head .modal-card-title{color:#fff;margin:0}.modal .modal-card-body input:-moz-placeholder,.modal .modal-card-body input:-ms-input-placeholder,.modal .modal-card-body input::-moz-placeholder,.modal .modal-card-body input::-ms-input-placeholder,.modal .modal-card-body input::-webkit-input-placeholder{color:#333}.modal .modal-card-body input:-moz-placeholder,.modal .modal-card-body input:-ms-input-placeholder,.modal .modal-card-body input::-moz-placeholder,.modal .modal-card-body input::-ms-input-placeholder,.modal .modal-card-body input::-webkit-input-placeholder,.modal .modal-card-body input::placeholder{color:#333}.modal .modal-card-foot{background-color:#fff;padding:1rem}.modal .modal-card-foot button{background-color:#011638;color:#fff;margin:0 auto}",""])},908:function(t,e,o){"use strict";var r=o(851);o.n(r).a},909:function(t,e,o){(t.exports=o(52)(!1)).push([t.i,".card .content[data-v-4be31e89]{font-size:.9em}",""])},910:function(t,e,o){"use strict";var r=o(852);o.n(r).a},911:function(t,e,o){(t.exports=o(52)(!1)).push([t.i,'@media only screen and (min-width:768px){.goal{position:relative;margin-top:25px}.goal i{color:#b7b7b7;padding-right:.5rem}.goal:first-child{margin-top:0}.goal:before{position:absolute;border:1px solid #b7b7b7;width:0;height:35px;display:block;content:"";z-index:1;top:-30px;left:5px}.goal:first-child:before{display:none}}.card .content{font-size:.9em}',""])},912:function(t,e,o){"use strict";var r=o(853);o.n(r).a},913:function(t,e,o){(t.exports=o(52)(!1)).push([t.i,".padded{padding:1rem 2rem}",""])},926:function(t,e,o){"use strict";o.r(e);o(67);var r=o(0),l=o.n(r),n={components:{},props:["goal"],mounted:function(){if(this.goal.team){var t=this.$store.getters["organisation/TEAM"](this.goal.team.id);this.goal.responsible={link:"#",name:t.name,type:"Team"}}else if(this.goal.user){var e=this.$store.getters["organisation/USER"](this.goal.user.username);this.goal.responsible={link:"/up/"+e.username,name:e.firstName+" "+e.lastName,type:"User"}}else this.goal.responsible={type:"Organisational"};this.$forceUpdate()},computed:{},data:function(){return{user:null}},methods:{parseDate:function(t){return l()(t).format("ll")},getPercentage:function(t){return 100*t+"%"},progressColor:function(progress){return progress<.25?"progress is-danger":progress<.5?"progress is-warning":progress<.75?"progress is-success":progress<1?"progress is-primary":"progress is-link"}}},c=(o(901),o(27)),d=Object(c.a)(n,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"header"},[o("div",[o("div",{staticClass:"columns"},[t._m(0),t._v(" "),o("div",{staticClass:"column is-four-fifths details"},[o("p",{staticClass:"title is-4"},[o("b",[t._v("Goal :  ")]),t._v(" "+t._s(t.goal.title)+"\n        ")]),t._v(" "),o("div",{staticClass:"columns"},[o("div",{staticClass:"column"},[o("p",[t._m(1),t._v(" "+t._s(t.parseDate(t.goal.start))+"\n            ")]),t._v(" "),o("p",[t._m(2),t._v("  "+t._s(t.parseDate(t.goal.end))+"\n            ")]),t._v(" "),t.goal.responsible?o("p",["User"==t.goal.responsible.type?o("span",[t._m(3),t._v(" "),o("nuxt-link",{attrs:{to:t.goal.responsible.link}},[t._v(t._s(t.goal.responsible.name))])],1):t._e(),t._v(" "),"Team"==t.goal.responsible.type?o("span",[t._m(4),t._v(" "),o("nuxt-link",{attrs:{to:t.goal.responsible.link}},[t._v(t._s(t.goal.responsible.name))])],1):t._e(),t._v(" "),"Organisational"==t.goal.responsible.type?o("span",[t._m(5),t._v("\n                Organisation Goal\n              ")]):t._e()]):t._e(),t._v(" "),o("p",[t.goal.responsible?o("span",{staticClass:"tag is-info"},[t._v("\n                "+t._s(t.goal.responsible.type)+" Goal\n              ")]):t._e(),t._v(" "),o("span",{staticClass:"tag",class:t.goal.statusColor},[t._v("\n                "+t._s(t.goal.status)+"\n              ")])])]),t._v(" "),o("div",{staticClass:"column"},[t._m(6),t._v(" "),o("p",[t._v(t._s(t.goal.description))])])])])])]),t._v(" "),o("br"),t._v(" "),o("div",{staticClass:"progress"},[o("progress",{staticClass:"is-small",class:t.progressColor(t.goal.progress),attrs:{max:"1",title:t.getPercentage(t.goal.progress)},domProps:{value:t.goal.progress}},[t._v("\n      "+t._s(t.getPercentage(t.goal.progress))+"\n    ")])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column gpic"},[e("figure",{staticClass:"image is-128x128"},[e("img",{staticClass:"is-thumbnail",attrs:{src:"/images/icons/goal.png"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"highlight"},[e("i",{staticClass:"fas fa-hourglass-start"}),this._v("Start :  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"highlight"},[e("i",{staticClass:"fas fa-hourglass-end"}),this._v("End :  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"highlight"},[e("i",{staticClass:"fas fa-user-clock"}),this._v("Assigned to:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"highlight"},[e("i",{staticClass:"fas fa-users"}),this._v("Assigned to:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"highlight"},[e("i",{staticClass:"fas fa-rocket"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"highlight"},[e("i",{staticClass:"fas fa-info-circle"}),this._v("Description :")])])}],!1,null,"15c246be",null).exports,m={props:["goal"],mounted:function(){this.chat=this.$store.getters["chats/GOAL_CHAT"](this.goal.id),setTimeout(function(){var t=document.querySelector(".messages");t.scrollTop=t.scrollHeight},10)},data:function(){return{chat:{messageSet:[]},message:""}},methods:{getUser:function(t){var e=this.$store.getters["organisation/USER"](t);if(e)return e.firstName+" "+e.lastName},submit:function(){this.message.length&&(this.$store.dispatch("chats/SEND_MESSAGE",{context:this,chatId:this.chat.id,message:{content:this.message,user:{username:this.$store.getters["user/USER"].username}}}),this.message="",setTimeout(function(){var t=document.querySelector(".messages");t.scrollTop=t.scrollHeight},10))},msgOwner:function(t){if(t==this.$store.getters["user/USER"].username)return"owner"}}},h=(o(903),Object(c.a)(m,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"sidebar"},[t._m(0),t._v(" "),o("div",{staticClass:"chat"},[o("div",{staticClass:"messages"},t._l(t.chat.messageSet,function(e){return o("div",{key:e.id,staticClass:"chat-message",class:t.msgOwner(e.user.username)},[o("nuxt-link",{staticClass:"sender",attrs:{to:"/up/"+e.user.username}},[t._v(t._s(t.getUser(e.user.username)))]),t._v(" "),o("p",{staticClass:"body"},[t._v(t._s(e.content))])],1)}),0),t._v(" "),o("div",{staticClass:"message-input"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{placeholder:"Type a message..."},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),o("div",{staticClass:"columns"},[o("div",{staticClass:"column char-count"},[t._v("\n          "+t._s(t.message.length)+" chars\n        ")]),t._v(" "),o("div",{staticClass:"column has-text-right send",on:{click:function(e){return t.submit()}}},[o("img",{staticClass:"is-thumbnail",attrs:{src:"/images/icons/right-arrow.svg"}})]),t._v(" "),o("div",{staticClass:"column is-one-fifth is-hidden-mobile is-hidden-desktop "})])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-one-quarter"},[e("figure",{staticClass:"image is-32x32"},[e("img",{staticClass:"is-thumbnail",attrs:{src:"/images/icons/chat.png"}})])]),this._v(" "),e("div",{staticClass:"column"},[e("h5",{staticClass:"title is-5"},[this._v("\n          Comments\n        ")])]),this._v(" "),e("div",{staticClass:"column is-one-quarter"})])])}],!1,null,null,null).exports),f=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column has-text-centered"},[e("img",{attrs:{src:o(905)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Target:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Current:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("Update:")])])}],v={props:["kpi","goal","active"],computed:{},data:function(){return{update:""}},methods:{isActive:function(){return this.active?"modal is-active":"modal"},toggleMe:function(){this.$parent.$emit("close-modal","update"),this.$forceUpdate()},getKpiText:function(){var output="";switch(this.kpi.change){case"__2":case"_":output+="Reduce "+this.kpi.metric+" by "+this.kpi.target;break;default:output+="Have "+this.kpi.metric+" of "+this.kpi.target}return output},submit:function(){!this.update.length||this.update<1||this.update>this.kpi.target-this.kpi.current||(this.$store.dispatch("goals/SEND_UPDATE",{context:this,goalId:this.goal.id,kpiId:this.kpi.id,update:{progress:parseFloat(this.update),created:l()().format(),updated:l()().format()}}),this.update="",this.$parent.$emit("close-modal","update"),this.$forceUpdate())}}},_=(o(906),{props:["goal"],components:{UpdateKpi:Object(c.a)(v,function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.kpi?o("div",{class:t.isActive()},[o("div",{staticClass:"modal-background"}),t._v(" "),o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title title is-5"},[t._v("Awesome, KPI Update!")]),t._v(" "),o("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return t.toggleMe()}}})]),t._v(" "),o("section",{staticClass:"modal-card-body"},[o("div",{staticClass:"columns"},[t._m(0),t._v(" "),o("div",{staticClass:"column is-two-thirds"},[o("h5",{staticClass:"title is-5"},[t._v(t._s(t.getKpiText()))]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("p",{staticClass:"control"},[o("input",{staticClass:"input is-static",attrs:{type:"text",readonly:""},domProps:{value:t.kpi.target}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("p",{staticClass:"control"},[o("input",{staticClass:"input is-static",attrs:{type:"text",readonly:""},domProps:{value:t.kpi.current}})])])])]),t._v(" "),o("div",{staticClass:"field is-horizontal"},[t._m(3),t._v(" "),o("div",{staticClass:"field-body"},[o("div",{staticClass:"field"},[o("p",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.update,expression:"update"}],staticClass:"input",attrs:{type:"number",name:"update",min:"0",max:t.kpi.target-t.kpi.current,placeholder:"Enter value of update"},domProps:{value:t.update},on:{input:function(e){e.target.composing||(t.update=e.target.value)}}})]),t._v(" "),o("p",{staticClass:"help"},[o("span",[t._v("Min: 0")]),t._v("\n                             \n                    "),o("span",[t._v("Max: "+t._s(t.kpi.target-t.kpi.current))])])])])])])])]),t._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button",on:{click:function(e){return t.submit()}}},[t._v("Send Update")])])])]):t._e()},f,!1,null,null,null).exports},mounted:function(){this.$on("close-modal",function(t){this.modals[t]=!this.modals[t]})},computed:{},data:function(){return{modals:{update:!1},selectedKpi:null}},methods:{getPercentage:function(t){return 100*t+"%"},progressColor:function(progress){return progress<.25?"progress is-danger":progress<.5?"progress is-warning":progress<.75?"progress is-success":progress<1?"progress is-primary":"progress is-link"},getKpiText:function(t){var output="";switch(t.change){case"__2":case"_":output+="Reduce "+t.metric+" by "+t.target;break;default:output+="Have "+t.metric+" "+t.target}return output},toggleModal:function(t,e){e&&(this.selectedKpi=e),this.modals[t]=!this.modals[t],this.$forceUpdate()}}}),C=(o(908),Object(c.a)(_,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card",attrs:{id:"user-goals"}},[t._m(0),t._v(" "),o("div",{staticClass:"card-content"},[o("div",{staticClass:"content"},t._l(t.goal.kpiSet,function(e){return o("div",{key:e.id},[o("div",{staticClass:"columns"},[o("div",{staticClass:"column is-two-fifth"},[t._v("\n            "+t._s(t.getKpiText(e))+"\n          ")]),t._v(" "),o("div",{staticClass:"column is-two-fifth"},[o("progress",{staticClass:"is-small",class:t.progressColor(e.progress),attrs:{max:"1",title:t.getPercentage(e.progress)},domProps:{value:e.progress}},[t._v("\n              "+t._s(t.getPercentage(e.progress))+"\n            ")])]),t._v(" "),t.goal.progress<1&&e.progress<1&&"Expired"!=t.goal.status?o("div",{staticClass:"column is-one-fifth"},[o("a",{staticClass:"button is-info is-small is-outlined",on:{click:function(o){return t.toggleModal("update",e)}}},[t._v("Post update")])]):t._e()])])}),0)]),t._v(" "),o("update-kpi",{attrs:{active:this.modals.update,kpi:t.selectedKpi,goal:t.goal}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"card-header"},[e("p",{staticClass:"card-header-title"},[this._v("\n      Goal KPIs\n    ")])])}],!1,null,"4be31e89",null).exports),x={props:["goal"],mounted:function(){this.hierarchy=this.$store.getters["goals/HIERARCHY"]({context:this,goalId:this.goal.id})},computed:{},data:function(){return{hierarchy:[]}},methods:{}},k=(o(910),{layout:"default",components:{GoalHeader:d,GoalSidebar:h,GoalKpis:C,GoalAlignment:Object(c.a)(x,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card",attrs:{id:"user-goals"}},[t._m(0),t._v(" "),o("div",{staticClass:"card-content"},[o("div",{staticClass:"content"},t._l(t.hierarchy,function(e,r){return o("p",{key:r,staticClass:"goal"},[o("i",{staticClass:"fas fa-bullseye is-hidden-mobile"}),t._v(" "),o("b",[t._v("#"+t._s(r+1))]),t._v(" "),o("nuxt-link",{attrs:{to:"/goals/"+e.id+"/view/"}},[t._v(t._s(e.title))])],1)}),0)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"card-header"},[e("p",{staticClass:"card-header-title"},[this._v("\n      Goal Alignment\n    ")])])}],!1,null,null,null).exports},mounted:function(){this.goal=this.$store.getters["goals/GOAL"](this.$route.params.slug)},data:function(){return{goal:null}},methods:{}}),y=(o(912),Object(c.a)(k,function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.goal?o("div",{staticClass:"columns is-gapless"},[o("div",{staticClass:"column is-three-quarters"},[o("goal-header",{attrs:{goal:t.goal}}),t._v(" "),o("div",{staticClass:"columns"},[o("div",{staticClass:"column padded"},[o("goal-kpis",{attrs:{goal:t.goal}}),t._v(" "),o("br"),t._v(" "),o("goal-alignment",{attrs:{goal:t.goal}})],1),t._v(" "),o("div",{staticClass:"column"})])],1),t._v(" "),o("div",{staticClass:"column is-one-quarter"},[o("goal-sidebar",{attrs:{goal:t.goal}})],1)]):t._e()},[],!1,null,null,null));e.default=y.exports}}]);